<!DOCTYPE html>
    <html lang="de">
        <head>
			<meta charset="UTF-8">
			<title></title>
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
            <link href="style.css" rel="stylesheet">
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
            <script type="module" src="./scriptkunden.js"></script>
            <script type="module" src="./sessionCheck.js"></script>
		</head>
        <body class="container-fluid">
            <div class="row flex-column flex-md-row min-vh-100">
            <!-- Sidebar -->
            <nav class="col-12 col-md-3 col-lg-2 sidebar d-flex flex-column p-3">
                <h4 class="text-white mb-4 text-center">Navigation</h4>
                <ul class="nav nav-pills flex-column mb-3">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">üè† Home</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link"  href="lager.html">üì¶ Lager</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="mitarbeiter.html">üë• Mitarbeiter</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="rechnungen.html">üßæ Rechnungen</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria.current="page" href="kunden.html">üíº Kunden</a>
                </li>
                <li>
                    <a class="nav-link" href="service.html">üõ†Ô∏è Service</a>
                </li>
                </ul>

                <div class="mt-auto">
                    <!-- Logo mittig -->
                    <div class="text-center mb-3">
                        <img
                        src="logo.png"
                        alt="Installations GmbH Bergermayer"
                        class="img-fluid rounded"
                        style="max-width: 140px;"
                        />
                    </div>

                    <!-- Logout Button links unten -->
                    <button class="btn btn-danger w-100" id="logoutBtn">
                        Abmelden
                    </button>
                    </div>
            </nav>

            <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 2000;"></div> 


            <!-- Hauptinhalt -->
            <main class="col-12 col-md-9 col-lg-10 bg-light p-4">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h1 class="fw-bold">Kunden</h1>
                    <form class="d-flex" role="search" id="kundenSucheForm">
                        <input class="form-control me-2" type="search" id="kundenSucheInput" placeholder="Suchen..." aria-label="Search"/>
                        <!--<button class="btn btn-primary" type="submit">Suchen</button>-->
                    </form>
                </div>

                <div class="p-4 bg-white rounded shadow-sm">
                    <div class="table-responsive table tabelle-scroll">
                        <table class="table table-striped table-hover" id="kundenTabelle">
                            <thead class="table-dark">
                                <tr>
                                    <th>Firma</th>
                                    <th>Vorname</th>
                                    <th>Nachname</th>
                                    <th>Kontakt</th>
                                    <th>Adresse</th>
                                    <th>Postleitzahl</th>
                                    <th>Ort</th>
                                    <th>Email-Adresse</th>
                                    <th>Telefonnummer</th>
                                </tr>

                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <button data-bs-toggle="modal" data-bs-target="#kundenhinzufuegen" class="btn btn-primary mt-2">Kunden hinzuf√ºgen</button>

                    <div class="modal fade" id="kundenhinzufuegen" tabindex="-1">
                        <div class="modal-dialog modal-dialog-centered modal-dialog-lg modal-dialog-scrollable">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">Kunden anlegen</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schlie√üen"></button>
                                </div>
                                <div class="modal-body">

                                    <div class="mb-3">
                                        <label class="form-label d-block">Firma / Privatkunde</label>

                                        <div class="form-check">
                                        <input class="form-check-input" type="radio" name="kundenArt" id="option1" value="Firma"/>
                                        <label class="form-check-label" for="option1">Firma</label>
                                        </div>
                                        <div class="form-check">
                                        <input class="form-check-input" type="radio" name="kundenArt" id="option2" value="privat"/>
                                        <label class="form-check-label" for="option2">Privatkunde</label>
                                        </div>
                                    </div>

                                    <div class="mb-3" id="wrapFirma">
                                        <label for="firma" class="form-label p-1">Firma<span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="firma" placeholder="Firmenname">
                                    </div>

                                    <div id="wrapPrivat">
                                    <div class="mb-3">
                                        <label for="vorname" class="form-label p-1">Vorname<span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="vorname" placeholder="Vorname">
                                    </div>
                                    <div class="mb-3">
                                        <label for="nachname" class="form-label p-1">Nachname<span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="nachname" placeholder="Nachname">
                                    </div>
                                    </div>

                                    <div class="mb-3" id="wrapKontakt">
                                        <label for="kontakt" class="form-label p-1">Kontakt</label>
                                        <input type="text" class="form-control" id="kontakt" placeholder="Kontakt">
                                    </div>

                                    <div class="mb-3">
                                        <label for="adresse" class="form-label p-1">Adresse</label>
                                        <input type="text" class="form-control" id="adresse" placeholder="Stra√üe + Hausnummer">
                                    </div>

                                    <div class="row g-2 mb-3">
                                        <div class="col-md-4">
                                            <label for="plz" class="form-label p-1">Postleitzahl</label>
                                            <input type="text" class="form-control" id="plz" placeholder="PLZ">
                                        </div>
                                        <div class="col-md-8">
                                            <label for="ort" class="form-label p-1">Ort</label>
                                            <input type="text" class="form-control" id="ort" placeholder="Ort">
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="mail" class="form-label p-1">E-Mail-Adresse</label>
                                        <input type="email" class="form-control" id="mail" placeholder="E-Mail-Adresse">
                                    </div>
                                    <div class="mb-3">
                                        <label for="telefon" class="form-label p-1">Telefonnummer</label>
                                        <input type="tel" class="form-control" id="telefon" placeholder="Telefonnummer">
                                    </div>
                                    <div class="mb-3">
                                        <label for="notizen" class="form-label p-1">Notizen (optional)</label>
                                        <textarea class="form-control" id="notizen" rows="3" placeholder="Notizen..."></textarea>
                                    </div>

                                    <div class="mb-3">
                                        <label for="heizung" class="form-label p-1">Heizung</label>
                                        <input type="text" class="form-control" id="heizung" placeholder="Heizungsname/-typ">
                                    </div>
                                    <div class="mb-3">
                                        <label for="heizung_datum" class="form-label p-1">Installationsdatum der Heizung</label>
                                        <input type="date" class="form-control" id="heizung_datum" >
                                        <!--placeholder="Installationsdatum"-->
                                    </div>
                                    <div class="mb-3">
                                        <label for="pruefungsintervall" class="form-label p-1">Serviceintervall (Monate)</label>
                                        <input type="number" step="1" class="form-control" id="pruefungsintervall" placeholder="z.B. 12" min="0"/>
                                    </div>
                                    <div class="mb-3">
                                        <label for="letzte_pruefung" class="form-label p-1">letztes Service der Heizung</label>
                                        <input type="date" class="form-control" id="letzte_pruefung" >
                                        <!--placeholder="letzte Pr√ºfung"-->
                                    </div>
                                    

                                    

                                    
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary" id="kundenSpeichernBtn">Speichern</button>
                                </div>

                            </div>
                        </div>
                    </div>
                    
                    <!--
                    <button class="btn"id="test">Test</button>
                    -->

                </div>

                <div class="modal fade" id="kundenVerwalten" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-dialog-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Kunden verwalten</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schlie√üen"></button>
                            </div>
                            <div class="modal-body">
                                <button class="btn btn-success d-block w-100 mb-2" id="kundenBearbeiten">Kunden bearbeiten</button>
                                <button class="btn btn-warning d-block w-100 mb-2" id="kundenDetails">Kundendetails anzeigen</button>
                                <!--<button class="btn btn-primary d-block w-100 mb-2" id="kundenService">Heizungs-Service eintragen</button>-->
                                <button class="btn btn-danger d-block w-100 mb-2" id="kundenLoeschen1">Kunden l√∂schen</button>

                            </div>
                            <div class="modal-footer">

                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="kundenBearbeitenModal" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-dialog-lg modal-dialog-scrollable">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Kunden verwalten</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schlie√üen"></button>
                            </div>
                            <div class="modal-body">
                                <!-- Firma (Edit) -->
                                <div class="mb-3" id="wrapEditFirma">
                                    <label class="form-label p-1">Firma<span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="edit_Firma" placeholder="Firma">
                                </div>

                                <!-- Privat (Edit) -->
                                <div id="wrapEditPrivat">
                                    <div class="mb-3">
                                        <label class="form-label p-1">Vorname<span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="edit_Vorname" placeholder="Vorname">
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label p-1">Nachname<span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="edit_Nachname" placeholder="Nachname">
                                    </div>
                                </div>

                                <div class="mb-3" id="wrapEditKontakt">
                                    <label for="kontakt" class="form-label p-1">Kontakt</label>
                                    <input type="text" class="form-control" id="edit_kontakt" placeholder="Kontakt">
                                </div>
                                <div class="mb-3">
                                    <label for="edit_adresse" class="form-label p-1">Adresse</label>
                                    <input type="text" class="form-control" id="edit_adresse" placeholder="Adresse">
                                </div>

                                <div class="row g-2 mb-3">
                                    <div class="col-md-4">
                                        <label for="edit_plz" class="form-label p-1">Postleitzahl</label>
                                        <input type="text" class="form-control" id="edit_plz" placeholder="PLZ">
                                    </div>
                                    <div class="col-md-8">
                                        <label for="edit_ort" class="form-label p-1">Ort</label>
                                        <input type="text" class="form-control" id="edit_ort" placeholder="Ort">
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="edit_mail" class="form-label p-1">E-Mail-Adresse</label>
                                    <input type="email" class="form-control" id="edit_mail" placeholder="E-Mail-Adresse">
                                </div>
                                <div class="mb-3">
                                    <label for="edit_telefon" class="form-label p-1">Telefonnummer</label>
                                    <input type="tel" class="form-control" id="edit_telefon" placeholder="Telefonnummer">
                                </div>
                                <div class="mb-3">
                                    <label for="edit_notizen" class="form-label p-1">Notizen (optional)</label>
                                    <textarea class="form-control" id="edit_notizen" rows="3" placeholder="Notizen..."></textarea>
                                </div>
                                <div class="mb-3">
                                    <label for="edit_heizung" class="form-label p-1">Heizung</label>
                                    <input type="text" class="form-control" id="edit_heizung" placeholder="Heizungsname/-typ">
                                </div>
                                <div class="mb-3">
                                    <label for="edit_heizung_datum" class="form-label p-1">Installationsdatum der Heizung</label>
                                    <input type="date" class="form-control" id="edit_heizung_datum" >
                                </div>
                                <div class="mb-3">
                                    <label for="edit_pruefungsintervall" class="form-label p-1">Serviceintervall (Monate)</label>
                                    <input type="number" step="1" class="form-control" id="edit_pruefungsintervall" placeholder="z.B. 12" min="0"/>
                                </div>
                                <div class="mb-3">
                                    <label for="edit_letzte_pruefung" class="form-label p-1">Leztes Service der Heizung</label>
                                    <input type="date" class="form-control" id="edit_letzte_pruefung" >
                                </div>
                                <div class="mb-3">
                                    <label for="edit_vorletzte_pruefung" class="form-label p-1">Vorleztes Service der Heizung</label>
                                    <input type="date" class="form-control" id="edit_vorletzte_pruefung" >
                                </div>
                                <div class="mb-3">
                                    <label for="edit_naechste_pruefung" class="form-label p-1">N√§chstes Service der Heizung</label>
                                    <!--<input type="date" class="form-control" id="edit_naechste_pruefung" >-->
                                    <!--<label class="form-label p-1">N√§chstes Service der Heizung</label>-->
                                    <input type="date" class="form-control" id="edit_naechste_pruefung" readonly>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-primary" data-bs-dismiss="modal" >Abrechen</button>
                                <button class="btn btn-primary" id="kBearbeitenSpeichern">Speichern</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="kundenDetailsModal" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-dialog-lg modal-dialog-scrollable">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Kunden verwalten</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schlie√üen"></button>
                            </div>
                            <div class="modal-body">
                                <div class="mb-3">
                                    <h4 id="detailFirma" class="fw-bold"></h4>
                                    <h4 id="detailName" class="fw-bold"></h4>                                                      
                                </div>
                                <hr>
                                <div class="mb-3">
                                    <h5 class="fw-semibold">Notizen</h5>
                                    <p class="mb-0" id="detailNotizen"></p>
                                </div>
                                <hr>
                                <div class="mb-3">
                                    <h5 class="fw-semibold">üìç Adresse</h5>
                                    <p class="mb-0" id="detailAdresse"></p>
                                    <p class="mb-0">
                                        <span id="detailPlz"></span>
                                        <span id="detailOrt"></span>
                                    </p>
                                </div>
                                <hr>
                                <div class="mb-3">
                                    <h5 class="fw-semibold">üìû Kontakt</h5>
                                    <p class="mb-0">
                                        <span class="fw-semibold">Kontakt:</span>
                                        <span id="detailKontakt"></span>
                                    </p>
                                    <p class="mb-1">
                                        ‚úâÔ∏è <span id="detailEmail"></span>
                                    </p>
                                    <p class="mb-1">
                                        ‚òéÔ∏è <span id="detailTelefon"></span>
                                    </p>
                                </div>
                                <hr>
                                <div class="mb-3">
                                    <h5 class="fw-semibold">Sonstiges</h5>
                                    <p class="mb-0">
                                        <span class="fw-semibold">Verbaute Heizung:</span>
                                        <span id="detailHeizung"></span>
                                    </p>
                                    <p class="mb-0">
                                        <span class="fw-semibold">Installationsdatum der Heizung:</span>
                                        <span id="detailEinbauDatum"></span>
                                    </p>
                                    <p class="mb-0">
                                        <span class="fw-semibold">Vorletztes Service:</span>
                                        <span id="detailVorletztePruefung"></span>
                                    </p>
                                    <p class="mb-0">
                                        <span class="fw-semibold">Letztes Service:</span>
                                        <span id="detailLetztePruefung"></span>
                                    </p>
                                    <p class="mb-0">
                                        <span class="fw-semibold">Serviceintervall:</span>
                                        <span id="detailIntervall"></span>
                                    </p>
                                    <p class="mb-0">
                                        <span class="fw-semibold">N√§chstes Service:</span>
                                        <span id="detailNaechstePruefung"></span>
                                    </p>
                                </div>
                            </div>

                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>                

                <div class="modal fade" id="kundenLoeschenModal" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-dialog-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Kunden l√∂schen</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schlie√üen"></button>
                            </div>
                            <div class="modal-body">
                                <p>
                                Wollen Sie den Kunden <strong id="kundenLoeschName"></strong> wirklich aus dem System l√∂schen?
                                </p>


                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-primary" data-bs-dismiss="modal" >Abrechen</button>
                                <button class="btn btn-primary" data-bs-dismiss="modal" id="kundenLoeschen2">L√∂schen</button>
                            </div>
                        </div>
                    </div>

                </div>
            </main>
            </div>
        </body>


    </html>